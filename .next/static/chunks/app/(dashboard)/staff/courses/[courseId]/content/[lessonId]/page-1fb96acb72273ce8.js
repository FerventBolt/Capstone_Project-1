(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7860],{9310:function(e,s,t){Promise.resolve().then(t.bind(t,820))},1509:function(e,s,t){"use strict";var a=t(5658);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},820:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var a=t(9692),n=t(9693),l=t(1509),r=t(2727),i=t(3675),d=t(3463),c=t(1946),o=t(460),u=t(3469),m=t(473),x=t(6625),h=t(2188);function g(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),t=e.courseId,g=e.lessonId,[b,p]=(0,n.useState)(null),[f,y]=(0,n.useState)(!0),[j,N]=(0,n.useState)("content"),[v,w]=(0,n.useState)(!1),[k,C]=(0,n.useState)([]),[S,Z]=(0,n.useState)(null),[P,D]=(0,n.useState)({grade:0,feedback:""});(0,n.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("course-".concat(t,"-lessons"));if(e){let a=JSON.parse(e).find(e=>e.id===g);if(!a){s.push("/staff/courses/".concat(t));return}p(a)}let a=localStorage.getItem("assignment-submissions");if(a){let e=JSON.parse(a).filter(e=>e.courseId===t&&e.lessonId===g).map(e=>({id:e.assignmentId+"-"+e.studentId,studentId:e.studentId,studentName:e.studentName||"Student "+e.studentId,submittedAt:e.submittedAt,content:e.submissionText||"",fileName:e.fileName,status:e.status||"submitted",grade:e.grade,feedback:e.feedback}));C(e)}}catch(e){console.error("Error fetching lesson data:",e),s.push("/staff/courses/".concat(t))}finally{y(!1)}})()},[t,g,s]);let I=()=>{if(!b)return;let e={id:"material-".concat(Date.now()),name:"",type:"pdf",url:"",size:""};p({...b,materials:[...b.materials,e]})},M=(e,s,t)=>{b&&p({...b,materials:b.materials.map(a=>a.id===e?{...a,[s]:t}:a)})},A=e=>{b&&p({...b,materials:b.materials.filter(s=>s.id!==e)})},E=()=>{if(!b)return;let e={id:"assignment-".concat(Date.now()),title:"",description:"",dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],status:"draft",maxPoints:100,instructions:""};p({...b,assignments:[...b.assignments,e]})},L=(e,s,t)=>{b&&p({...b,assignments:b.assignments.map(a=>a.id===e?{...a,[s]:t}:a)})},O=e=>{b&&p({...b,assignments:b.assignments.filter(s=>s.id!==e)})},z=e=>{let s=k.find(s=>s.id===e);s&&(Z(e),D({grade:s.grade||0,feedback:s.feedback||""}))};return f?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):b?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(r.default,{href:"/staff/courses/".concat(t),className:"text-gray-500 hover:text-gray-700 mr-4 flex items-center",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),"Back to Course"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:b.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Content Management"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(b.isPublished?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:b.isPublished?"Published":"Draft"}),v?(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>{if(b)try{let e=localStorage.getItem("course-".concat(t,"-lessons"));if(e){let s=JSON.parse(e).map(e=>e.id===g?b:e);localStorage.setItem("course-".concat(t,"-lessons"),JSON.stringify(s))}w(!1),alert("Lesson saved successfully!")}catch(e){console.error("Error saving lesson:",e),alert("Failed to save lesson. Please try again.")}},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center space-x-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Save"})]}),(0,a.jsx)("button",{onClick:()=>w(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium",children:"Cancel"})]}):(0,a.jsxs)("button",{onClick:()=>w(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center space-x-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Edit"})]})]})]})})}),(0,a.jsx)("div",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:[{key:"content",label:"Content",count:null},{key:"materials",label:"Materials",count:b.materials.length},{key:"assignments",label:"Assignments",count:b.assignments.length},{key:"submissions",label:"Submissions",count:k.length}].map(e=>(0,a.jsxs)("button",{onClick:()=>N(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(j===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label," ",null!==e.count&&"(".concat(e.count,")")]},e.key))})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["content"===j&&(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Title"}),v?(0,a.jsx)("input",{type:"text",value:b.title,onChange:e=>p({...b,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:b.title})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),v?(0,a.jsx)("textarea",{value:b.description,onChange:e=>p({...b,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,a.jsx)("p",{className:"text-gray-700",children:b.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),v?(0,a.jsx)("textarea",{value:b.content,onChange:e=>p({...b,content:e.target.value}),rows:10,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter the lesson content, learning objectives, and instructions..."}):(0,a.jsx)("div",{className:"prose max-w-none",children:(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:b.content})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),v?(0,a.jsx)("input",{type:"number",value:b.duration,onChange:e=>p({...b,duration:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):(0,a.jsxs)("p",{className:"text-gray-900",children:[b.duration," minutes"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),v?(0,a.jsxs)("select",{value:b.isPublished?"published":"draft",onChange:e=>p({...b,isPublished:"published"===e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"published",children:"Published"})]}):(0,a.jsx)("p",{className:"text-gray-900",children:b.isPublished?"Published":"Draft"})]})]})]})}),"materials"===j&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Learning Materials"}),(0,a.jsxs)("button",{onClick:I,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Material"})]})]}),0===b.materials.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[(0,a.jsx)(u.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No materials yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Add learning materials to help students understand the lesson."}),(0,a.jsx)("button",{onClick:I,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Add First Material"})]}):(0,a.jsx)("div",{className:"space-y-4",children:b.materials.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Name"}),(0,a.jsx)("input",{type:"text",value:e.name,onChange:s=>M(e.id,"name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter material name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),(0,a.jsxs)("select",{value:e.type,onChange:s=>M(e.id,"type",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"pdf",children:"PDF Document"}),(0,a.jsx)("option",{value:"video",children:"Video"}),(0,a.jsx)("option",{value:"document",children:"Document"}),(0,a.jsx)("option",{value:"link",children:"External Link"})]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)("button",{onClick:()=>A(e.id),className:"w-full bg-red-50 text-red-600 hover:bg-red-100 px-3 py-2 rounded-md text-sm font-medium flex items-center justify-center space-x-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Remove"})]})})]}),"link"===e.type?(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL"}),(0,a.jsx)("input",{type:"url",value:e.url,onChange:s=>M(e.id,"url",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Upload"}),(0,a.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(x.Z,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["pdf"===e.type&&"PDF files only","video"===e.type&&"MP4, AVI, MOV files","document"===e.type&&"DOC, DOCX, TXT files"]})]})})]})]},e.id))})]}),"assignments"===j&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assignments"}),(0,a.jsxs)("button",{onClick:E,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Assignment"})]})]}),0===b.assignments.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[(0,a.jsx)(u.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignments yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Create assignments to assess student learning."}),(0,a.jsx)("button",{onClick:E,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Create First Assignment"})]}):(0,a.jsx)("div",{className:"space-y-6",children:b.assignments.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Title"}),(0,a.jsx)("input",{type:"text",value:e.title,onChange:s=>L(e.id,"title",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter assignment title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),(0,a.jsx)("input",{type:"date",value:e.dueDate,onChange:s=>L(e.id,"dueDate",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:e.description,onChange:s=>L(e.id,"description",s.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter assignment description"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructions"}),(0,a.jsx)("textarea",{value:e.instructions,onChange:s=>L(e.id,"instructions",s.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter detailed instructions for students"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Points"}),(0,a.jsx)("input",{type:"number",value:e.maxPoints,onChange:s=>L(e.id,"maxPoints",parseInt(s.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsxs)("select",{value:e.status,onChange:s=>L(e.id,"status",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"published",children:"Published"})]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)("button",{onClick:()=>O(e.id),className:"w-full bg-red-50 text-red-600 hover:bg-red-100 px-3 py-2 rounded-md text-sm font-medium flex items-center justify-center space-x-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Remove"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("published"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status.toUpperCase()}),(0,a.jsxs)("button",{onClick:()=>s.push("/staff/courses/".concat(t,"/assignments/").concat(e.id,"/submissions")),className:"text-blue-600 hover:text-blue-500 text-sm font-medium flex items-center space-x-1",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"View Submissions"})]})]})]},e.id))})]}),"submissions"===j&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Student Submissions"}),0===k.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[(0,a.jsx)(u.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No submissions yet"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Student submissions will appear here once they start submitting assignments."})]}):(0,a.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.studentName}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Submitted: ",new Date(e.submittedAt).toLocaleDateString()]})]}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("graded"===e.status?"bg-green-100 text-green-800":"returned"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.status.toUpperCase()})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Submission Content:"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,a.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:e.content}),e.fileName&&(0,a.jsxs)("div",{className:"mt-2 flex items-center text-sm text-blue-600",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-1"}),(0,a.jsxs)("span",{children:["Attached: ",e.fileName]})]})]})]}),"graded"===e.status&&(0,a.jsxs)("div",{className:"mb-4 bg-green-50 p-3 rounded border",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-green-800",children:["Grade: ",e.grade,"%"]})}),e.feedback&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-800 mb-1",children:"Feedback:"}),(0,a.jsx)("p",{className:"text-sm text-green-700",children:e.feedback})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:["graded"!==e.status&&(0,a.jsx)("button",{onClick:()=>z(e.id),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Grade Submission"}),"graded"===e.status&&(0,a.jsx)("button",{onClick:()=>z(e.id),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Update Grade"})]})]},e.id))})]})]}),S&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Grade Submission"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade (0-100)"}),(0,a.jsx)("input",{type:"number",min:"0",max:"100",value:P.grade,onChange:e=>D({...P,grade:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feedback"}),(0,a.jsx)("textarea",{value:P.feedback,onChange:e=>D({...P,feedback:e.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Provide feedback to the student..."})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,a.jsx)("button",{onClick:()=>{if(S){C(k.map(e=>e.id===S?{...e,grade:P.grade,feedback:P.feedback,status:"graded"}:e));try{let e=localStorage.getItem("assignment-submissions");if(e){let s=JSON.parse(e).map(e=>e.assignmentId+"-"+e.studentId===S?{...e,grade:P.grade,feedback:P.feedback,status:"graded"}:e);localStorage.setItem("assignment-submissions",JSON.stringify(s))}}catch(e){console.error("Error updating submission grade:",e)}Z(null),D({grade:0,feedback:""}),alert("Grade saved successfully!")}},className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium",children:"Save Grade"}),(0,a.jsx)("button",{onClick:()=>{Z(null),D({grade:0,feedback:""})},className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg font-medium",children:"Cancel"})]})]})})]}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Content Not Found"}),(0,a.jsx)(r.default,{href:"/staff/courses/".concat(t),className:"text-blue-600 hover:text-blue-500",children:"← Back to Course"})]})})}},5997:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(9693),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var r=(e,s)=>{let t=(0,a.forwardRef)((t,r)=>{let{color:i="currentColor",size:d=24,strokeWidth:c=2,absoluteStrokeWidth:o,children:u,...m}=t;return(0,a.createElement)("svg",{ref:r,...n,width:d,height:d,stroke:i,strokeWidth:o?24*Number(c)/Number(d):c,className:"lucide lucide-".concat(l(e)),...m},[...s.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...(Array.isArray(u)?u:[u])||[]])});return t.displayName="".concat(e),t}},3675:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5997).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2188:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5997).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3469:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5997).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},1946:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5997).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},460:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5997).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3463:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5997).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},473:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5997).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6625:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5997).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])}},function(e){e.O(0,[2727,5248,5633,1744],function(){return e(e.s=9310)}),_N_E=e.O()}]);