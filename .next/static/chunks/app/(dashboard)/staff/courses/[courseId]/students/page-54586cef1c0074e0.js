(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5825],{6716:function(e,s,t){Promise.resolve().then(t.bind(t,7483))},1509:function(e,s,t){"use strict";var l=t(5658);t.o(l,"useParams")&&t.d(s,{useParams:function(){return l.useParams}}),t.o(l,"usePathname")&&t.d(s,{usePathname:function(){return l.usePathname}}),t.o(l,"useRouter")&&t.d(s,{useRouter:function(){return l.useRouter}})},7483:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var l=t(9692),n=t(9693),a=t(1509),r=t(2727),i=t(3675),c=t(6656),d=t(460),o=t(9519),x=t(9632),m=t(2132),u=t(3291),h=t(718),p=t(3174),g=t(9296);function f(){let e=(0,a.useParams)(),s=(0,a.useRouter)(),t=e.courseId,[f,y]=(0,n.useState)(null),[j,b]=(0,n.useState)([]),[N,v]=(0,n.useState)([]),[w,k]=(0,n.useState)(!0),[S,C]=(0,n.useState)(""),[L,Z]=(0,n.useState)("enrolled"),[A,I]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{try{y({id:t,title:"Food Service Operations NC II",code:"FSO-NCII-2024",maxStudents:25,enrolledStudents:3}),b([{id:"stu-1",name:"John Doe",email:"john.doe@email.com",phone:"+63 912 345 6789",studentId:"STU001",enrolledAt:"2024-01-15",status:"active",progress:75,lastActivity:"2024-01-20",completedLessons:6,totalLessons:8},{id:"stu-2",name:"Jane Smith",email:"jane.smith@email.com",phone:"+63 912 345 6790",studentId:"STU002",enrolledAt:"2024-01-16",status:"active",progress:60,lastActivity:"2024-01-19",completedLessons:5,totalLessons:8},{id:"stu-3",name:"Mike Johnson",email:"mike.johnson@email.com",phone:"+63 912 345 6791",studentId:"STU003",enrolledAt:"2024-01-17",status:"active",progress:90,lastActivity:"2024-01-21",completedLessons:7,totalLessons:8}]),v([{id:"stu-4",name:"Sarah Wilson",email:"sarah.wilson@email.com",phone:"+63 912 345 6792",studentId:"STU004",status:"active",progress:0,completedLessons:0,totalLessons:0},{id:"stu-5",name:"David Brown",email:"david.brown@email.com",phone:"+63 912 345 6793",studentId:"STU005",status:"active",progress:0,completedLessons:0,totalLessons:0},{id:"stu-6",name:"Lisa Garcia",email:"lisa.garcia@email.com",phone:"+63 912 345 6794",studentId:"STU006",status:"active",progress:0,completedLessons:0,totalLessons:0},{id:"stu-7",name:"Robert Martinez",email:"robert.martinez@email.com",phone:"+63 912 345 6795",studentId:"STU007",status:"active",progress:0,completedLessons:0,totalLessons:0}])}catch(e){console.error("Error loading data:",e)}finally{k(!1)}})()},[t]);let D=j.filter(e=>e.name.toLowerCase().includes(S.toLowerCase())||e.email.toLowerCase().includes(S.toLowerCase())||e.studentId.toLowerCase().includes(S.toLowerCase())),M=N.filter(e=>e.name.toLowerCase().includes(S.toLowerCase())||e.email.toLowerCase().includes(S.toLowerCase())||e.studentId.toLowerCase().includes(S.toLowerCase())),P=e=>{let s=j.find(s=>s.id===e);s&&confirm("Are you sure you want to unenroll ".concat(s.name," from this course?"))&&(b(s=>s.filter(s=>s.id!==e)),v(e=>[...e,{...s,enrolledAt:void 0,progress:0,completedLessons:0,totalLessons:0}]),y(e=>e?{...e,enrolledStudents:e.enrolledStudents-1}:null),alert("".concat(s.name," has been unenrolled from the course")))},U=e=>{I(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return w?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):f?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)(r.default,{href:"/staff/courses/".concat(t),className:"text-gray-500 hover:text-gray-700 mr-4 flex items-center",children:[(0,l.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),"Back to Course"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Student Management"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:f.title})]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-3",children:(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:[j.length,"/",f.maxStudents," enrolled"]})})]})})}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,l.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Enrolled Students"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:j.length})]}),(0,l.jsx)(c.Z,{className:"w-8 h-8 text-blue-600"})]})}),(0,l.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Available Spots"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f.maxStudents-j.length})]}),(0,l.jsx)(d.Z,{className:"w-8 h-8 text-green-600"})]})}),(0,l.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Average Progress"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[j.length>0?Math.round(j.reduce((e,s)=>e+s.progress,0)/j.length):0,"%"]})]}),(0,l.jsx)(o.Z,{className:"w-8 h-8 text-purple-600"})]})}),(0,l.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[j.length>0?Math.round(j.filter(e=>100===e.progress).length/j.length*100):0,"%"]})]}),(0,l.jsx)(x.Z,{className:"w-8 h-8 text-orange-600"})]})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border mb-6",children:[(0,l.jsx)("div",{className:"p-4 border-b",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(m.Z,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,l.jsx)("input",{type:"text",placeholder:"Search students...",value:S,onChange:e=>C(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})}),"available"===L&&A.length>0&&(0,l.jsxs)("button",{onClick:()=>{if(0===A.length){alert("Please select students to enroll");return}if(!f)return;if(j.length+A.length>f.maxStudents){alert("Cannot enroll ".concat(A.length," students. Course capacity is ").concat(f.maxStudents," and ").concat(j.length," are already enrolled."));return}let e=N.filter(e=>A.includes(e.id)).map(e=>({...e,enrolledAt:new Date().toISOString().split("T")[0],totalLessons:8}));b(s=>[...s,...e]),v(e=>e.filter(e=>!A.includes(e.id))),I([]),y(e=>e?{...e,enrolledStudents:e.enrolledStudents+A.length}:null),alert("Successfully enrolled ".concat(A.length," student").concat(A.length>1?"s":""))},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center space-x-2",children:[(0,l.jsx)(c.Z,{className:"w-4 h-4"}),(0,l.jsxs)("span",{children:["Enroll ",A.length," Student",A.length>1?"s":""]})]})]})}),(0,l.jsxs)("div",{className:"flex border-b",children:[(0,l.jsxs)("button",{onClick:()=>Z("enrolled"),className:"px-6 py-3 text-sm font-medium ".concat("enrolled"===L?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),children:["Enrolled Students (",j.length,")"]}),(0,l.jsxs)("button",{onClick:()=>Z("available"),className:"px-6 py-3 text-sm font-medium ".concat("available"===L?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),children:["Available Students (",N.length,")"]})]})]}),"enrolled"===L&&(0,l.jsxs)("div",{className:"space-y-4",children:[D.map(e=>(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-blue-600 font-semibold",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(u.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:e.email})]}),e.phone&&(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(h.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:e.phone})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(p.Z,{className:"w-4 h-4"}),(0,l.jsxs)("span",{children:["Enrolled: ",e.enrolledAt?new Date(e.enrolledAt).toLocaleDateString():"N/A"]})]})]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",e.studentId]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.progress,"% Complete"]}),(0,l.jsxs)("p",{className:"text-xs text-gray-600",children:[e.completedLessons,"/",e.totalLessons," lessons"]}),(0,l.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2 mt-1",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.progress,"%")}})})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status.toUpperCase()}),(0,l.jsx)("button",{onClick:()=>s.push("/staff/users/".concat(e.id)),className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"View Profile"}),(0,l.jsxs)("button",{onClick:()=>P(e.id),className:"text-red-600 hover:text-red-500 text-sm font-medium flex items-center space-x-1",children:[(0,l.jsx)(g.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Unenroll"})]})]})]})]})},e.id)),0===D.length&&(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDC65"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:S?"No students found":"No students enrolled"}),(0,l.jsx)("p",{className:"text-gray-500",children:S?"Try adjusting your search criteria.":"Students will appear here once they are enrolled in the course."})]})]}),"available"===L&&(0,l.jsxs)("div",{className:"space-y-4",children:[N.length>0&&(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:A.length===M.length&&M.length>0,onChange:()=>{A.length===M.length?I([]):I(M.map(e=>e.id))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,l.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Select All (",M.length,")"]})]}),A.length>0&&(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:[A.length," student",A.length>1?"s":""," selected"]})]})}),M.map(e=>(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("input",{type:"checkbox",checked:A.includes(e.id),onChange:()=>U(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,l.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-gray-600 font-semibold",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(u.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:e.email})]}),e.phone&&(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(h.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:e.phone})]})]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",e.studentId]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status.toUpperCase()}),(0,l.jsx)("button",{onClick:()=>s.push("/staff/users/".concat(e.id)),className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"View Profile"})]})]})},e.id)),0===M.length&&(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDD0D"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:S?"No students found":"No available students"}),(0,l.jsx)("p",{className:"text-gray-500",children:S?"Try adjusting your search criteria.":"All students are either enrolled or there are no students in the system."})]})]})]})]}):(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Course Not Found"}),(0,l.jsx)(r.default,{href:"/staff/courses",className:"text-blue-600 hover:text-blue-500",children:"â† Back to Courses"})]})})}},5997:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var l=t(9693),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var r=(e,s)=>{let t=(0,l.forwardRef)((t,r)=>{let{color:i="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:o,children:x,...m}=t;return(0,l.createElement)("svg",{ref:r,...n,width:c,height:c,stroke:i,strokeWidth:o?24*Number(d)/Number(c):d,className:"lucide lucide-".concat(a(e)),...m},[...s.map(e=>{let[s,t]=e;return(0,l.createElement)(s,t)}),...(Array.isArray(x)?x:[x])||[]])});return t.displayName="".concat(e),t}},3675:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(5997).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9632:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(5997).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},3174:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(5997).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},3291:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(5997).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},718:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(5997).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},460:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(5997).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2132:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(5997).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9519:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(5997).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},9296:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(5997).Z)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},6656:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(5997).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])}},function(e){e.O(0,[2727,5248,5633,1744],function(){return e(e.s=6716)}),_N_E=e.O()}]);