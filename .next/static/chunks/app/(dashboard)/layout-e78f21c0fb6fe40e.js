(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5642],{999:function(e,n,s){Promise.resolve().then(s.bind(s,6699))},1509:function(e,n,s){"use strict";var t=s(5658);s.o(t,"useParams")&&s.d(n,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(n,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(n,{useRouter:function(){return t.useRouter}})},6699:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return c}});var t=s(9692),r=s(9693),a=s(2727),i=s(1509);let o=[{name:"Dashboard",href:"/admin/dashboard",icon:"\uD83D\uDCCA"},{name:"User Management",href:"/admin/users",icon:"\uD83D\uDC65",children:[{name:"All Users",href:"/admin/users",icon:"\uD83D\uDC64"},{name:"Invitations",href:"/admin/users/invitations",icon:"✉️"},{name:"Roles & Permissions",href:"/admin/users/roles",icon:"\uD83D\uDD10"}]},{name:"Course Management",href:"/admin/courses",icon:"\uD83D\uDCDA",children:[{name:"All Courses",href:"/admin/courses",icon:"\uD83D\uDCD6"},{name:"Course Assignments",href:"/admin/courses/assignments",icon:"\uD83D\uDC68‍\uD83C\uDFEB"}]},{name:"Certifications",href:"/admin/certifications",icon:"\uD83C\uDF93",children:[{name:"All Certifications",href:"/admin/certifications",icon:"\uD83D\uDCDC"},{name:"Applications",href:"/admin/certifications/applications",icon:"\uD83D\uDCDD"},{name:"TESDA Exams",href:"/admin/certifications/exams",icon:"\uD83C\uDFC6"}]},{name:"Reminders",href:"/admin/reminders",icon:"\uD83D\uDCE2"},{name:"Reports",href:"/admin/reports",icon:"\uD83D\uDCC8"},{name:"Settings",href:"/admin/settings",icon:"⚙️"}],l=[{name:"Dashboard",href:"/staff/dashboard",icon:"\uD83D\uDCCA"},{name:"Course Management",href:"/staff/courses",icon:"\uD83D\uDCDA",children:[{name:"All Courses",href:"/staff/courses",icon:"\uD83D\uDCD6"},{name:"Course Assignments",href:"/staff/courses/assignments",icon:"\uD83D\uDC68‍\uD83C\uDFEB"}]},{name:"Students",href:"/staff/students",icon:"\uD83D\uDC68‍\uD83C\uDF93"},{name:"Reminders",href:"/staff/reminders",icon:"\uD83D\uDCE2"},{name:"Grading",href:"/staff/grading",icon:"✅"},{name:"Profile",href:"/staff/profile",icon:"\uD83D\uDC64"}],u=[{name:"Dashboard",href:"/student/dashboard",icon:"\uD83D\uDCCA"},{name:"My Courses",href:"/student/courses",icon:"\uD83D\uDCDA"},{name:"Certifications",href:"/student/certifications",icon:"\uD83C\uDF93"},{name:"Progress",href:"/student/progress",icon:"\uD83D\uDCC8"},{name:"Profile",href:"/student/profile",icon:"\uD83D\uDC64"}];function c(e){var n;let{children:s}=e,[c,d]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!1),[h,D]=(0,r.useState)([]),x=(0,i.usePathname)(),[g,b]=(0,r.useState)(null);(0,r.useEffect)(()=>{console.log("\uD83D\uDD0D DEBUG: Dashboard layout mounted"),console.log("\uD83D\uDD0D DEBUG: Current pathname:",x);let e=document.cookie.split(";").find(e=>e.trim().startsWith("demo-session="));if(e)try{let n=JSON.parse(e.split("=")[1]);console.log("\uD83D\uDD0D DEBUG: Found demo session:",n),b(n)}catch(e){console.error("\uD83D\uDD0D DEBUG: Error parsing demo session:",e)}else console.log("\uD83D\uDD0D DEBUG: No demo session found")},[x]),(0,r.useEffect)(()=>{let e=()=>{window.innerWidth<1024&&(f(!1),d(!1))};if("undefined"!=typeof localStorage)try{let e=localStorage.getItem("sidebar-collapsed");e&&f(JSON.parse(e))}catch(e){console.warn("Failed to load sidebar state from localStorage:",e)}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{if("undefined"!=typeof localStorage)try{localStorage.setItem("sidebar-collapsed",JSON.stringify(m))}catch(e){console.warn("Failed to save sidebar state to localStorage:",e)}},[m]);let p=()=>x.startsWith("/admin")?"admin":x.startsWith("/staff")?"staff":x.startsWith("/student")?"student":"admin",C=e=>{m||D(n=>n.includes(e)?n.filter(n=>n!==e):[...n,e])},y=e=>x===e||x.startsWith(e+"/"),v=(()=>{switch(p()){case"admin":default:return o;case"staff":return l;case"student":return u}})(),j=p(),w=m?"w-16":"w-64",N=m?"lg:ml-16":"lg:ml-64";return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[c&&(0,t.jsx)("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>d(!1),onKeyDown:e=>{"Escape"===e.key&&d(!1)},role:"button",tabIndex:0,"aria-label":"Close sidebar"}),(0,t.jsxs)("nav",{className:"fixed inset-y-0 left-0 z-50 ".concat(w," bg-white shadow-lg transform transition-all duration-300 ease-in-out lg:translate-x-0 ").concat(c?"translate-x-0":"-translate-x-full"),role:"navigation","aria-label":"Main navigation",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center min-w-0",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600 flex-shrink-0",children:m?"C":"CTE"}),!m&&(0,t.jsx)("div",{className:"ml-2 text-sm text-gray-600 capitalize truncate",children:j})]}),(0,t.jsx)("button",{onClick:()=>d(!1),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),d(!1))},className:"lg:hidden text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded p-1","aria-label":"Close sidebar",type:"button",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("button",{onClick:()=>f(!m),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),f(!m))},className:"hidden lg:block text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded p-1","aria-label":m?"Expand sidebar":"Collapse sidebar",type:"button",children:(0,t.jsx)("svg",{className:"w-5 h-5 transition-transform ".concat(m?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),(0,t.jsx)("div",{className:"mt-6 px-3 flex-1 overflow-y-auto pb-20",role:"menu",children:(0,t.jsx)("ul",{className:"space-y-1",role:"none",children:v.map(e=>(0,t.jsx)("li",{role:"none",children:e.children?(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{onClick:()=>C(e.name),onKeyDown:n=>{("Enter"===n.key||" "===n.key)&&(n.preventDefault(),C(e.name))},className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(y(e.href)?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"),title:m?e.name:void 0,"aria-expanded":h.includes(e.name),"aria-controls":"submenu-".concat(e.name.replace(/\s+/g,"-").toLowerCase()),type:"button",role:"menuitem",children:[(0,t.jsxs)("div",{className:"flex items-center min-w-0",children:[(0,t.jsx)("span",{className:"text-lg flex-shrink-0",children:e.icon}),!m&&(0,t.jsx)("span",{className:"ml-3 truncate",children:e.name})]}),!m&&(0,t.jsx)("svg",{className:"w-4 h-4 transition-transform flex-shrink-0 ".concat(h.includes(e.name)?"rotate-90":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),!m&&h.includes(e.name)&&(0,t.jsx)("ul",{className:"mt-1 ml-6 space-y-1",id:"submenu-".concat(e.name.replace(/\s+/g,"-").toLowerCase()),role:"menu",children:e.children.map(e=>(0,t.jsx)("li",{role:"none",children:(0,t.jsxs)(a.default,{href:e.href,className:"flex items-center px-3 py-2 text-sm rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(y(e.href)?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),role:"menuitem",children:[(0,t.jsx)("span",{className:"text-base mr-3 flex-shrink-0","aria-hidden":"true",children:e.icon}),(0,t.jsx)("span",{className:"truncate",children:e.name})]})},e.name))})]}):(0,t.jsxs)(a.default,{href:e.href,className:"flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(y(e.href)?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"),title:m?e.name:void 0,role:"menuitem",children:[(0,t.jsx)("span",{className:"text-lg flex-shrink-0","aria-hidden":"true",children:e.icon}),!m&&(0,t.jsx)("span",{className:"ml-3 truncate",children:e.name})]})},e.name))})}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0","aria-hidden":"true",children:(0,t.jsx)("span",{className:"text-sm font-medium text-blue-600",children:(null==g?void 0:null===(n=g.name)||void 0===n?void 0:n.charAt(0))||"U"})}),!m&&(0,t.jsxs)("div",{className:"ml-3 min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 truncate",children:(null==g?void 0:g.name)||"User"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 truncate",children:(null==g?void 0:g.email)||"user@example.com"})]})]}),!m&&(0,t.jsx)("button",{onClick:()=>{document.cookie="demo-session=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",console.log("\uD83D\uDD0D DEBUG: Demo session cleared, redirecting to login"),window.location.href="/login"},className:"mt-3 w-full text-left text-sm text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded transition-colors",type:"button","aria-label":"Sign out",children:"Sign out"})]})]}),(0,t.jsxs)("div",{className:"transition-all duration-300 ".concat(N),children:[(0,t.jsx)("header",{className:"sticky top-0 z-40 bg-white shadow-sm border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsx)("button",{onClick:()=>d(!0),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),d(!0))},className:"lg:hidden text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded p-1","aria-label":"Open sidebar",type:"button",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,t.jsx)("div",{})]})}),(0,t.jsx)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 max-w-full overflow-x-hidden",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:s})})]})]})}}},function(e){e.O(0,[2727,5248,5633,1744],function(){return e(e.s=999)}),_N_E=e.O()}]);