(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6143],{8546:function(e,t,s){Promise.resolve().then(s.bind(s,321))},1509:function(e,t,s){"use strict";var a=s(5658);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},321:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(9692),i=s(9693),n=s(1509);function l(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),[s,l]=(0,i.useState)(null),[r,d]=(0,i.useState)(!0),[c,o]=(0,i.useState)(!1),[u,m]=(0,i.useState)("");(0,i.useEffect)(()=>{let t=async()=>{try{console.log("DEBUG: Fetching application with ID:",e.id);let t={id:e.id,studentId:"1",studentName:"Juan Dela Cruz",studentEmail:"juan.student@lpunetwork.edu.ph",certificationType:"Food & Beverages Services NC II",courseId:"1",courseTitle:"Restaurant Service Operations NC II",applicationDate:"2024-01-15 10:00:00",status:"pending",documents:[{id:"1",name:"Certificate of Completion.pdf",type:"completion",uploadedAt:"2024-01-15 10:00:00",verified:!0},{id:"2",name:"Training Record.pdf",type:"training_record",uploadedAt:"2024-01-15 10:01:00",verified:!0},{id:"3",name:"ID Copy.pdf",type:"identification",uploadedAt:"2024-01-15 10:02:00",verified:!1}],notes:"Student has completed all required training hours and assessments."};l(t),m(t.notes)}catch(e){console.error("Error fetching application:",e)}finally{d(!1)}};e.id&&t()},[e.id]);let x=async e=>{if(s){o(!0);try{console.log("DEBUG: Updating application status:",{id:s.id,status:e,notes:u}),l({...s,status:e,notes:u,reviewedBy:"admin@lpu.edu.ph",reviewedAt:new Date().toISOString()}),alert("Application ".concat(e," successfully!"))}catch(e){console.error("Error updating application:",e),alert("Failed to update application")}finally{o(!1)}}},p=async(e,t)=>{if(s)try{console.log("DEBUG: Updating document verification:",{docId:e,verified:t}),l({...s,documents:s.documents.map(s=>s.id===e?{...s,verified:t}:s)}),alert("Document ".concat(t?"verified":"unverified"," successfully!"))}catch(e){console.error("Error updating document:",e),alert("Failed to update document")}};return r?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s?(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Application Details"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Review and manage certification application"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full ".concat((e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"under_review":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(s.status)),children:s.status.replace("_"," ").toUpperCase()}),(0,a.jsx)("button",{onClick:()=>t.push("/admin/certifications/applications"),className:"btn-secondary",children:"Back to Applications"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Name"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:s.studentName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:s.studentEmail})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Certification Type"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:s.certificationType})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Course"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:s.courseTitle})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Application Date"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:new Date(s.applicationDate).toLocaleDateString()})]}),s.reviewedBy&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Reviewed By"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:s.reviewedBy})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents"}),(0,a.jsx)("div",{className:"space-y-3",children:s.documents.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83D\uDCC4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Uploaded: ",new Date(e.uploadedAt).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.verified?"Verified":"Pending"}),(0,a.jsx)("button",{onClick:()=>p(e.id,!e.verified),className:"text-sm font-medium ".concat(e.verified?"text-red-600 hover:text-red-500":"text-green-600 hover:text-green-500"),children:e.verified?"Unverify":"Verify"}),(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"View"})]})]},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:["pending"===s.status&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>x("approved"),disabled:c,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:c?"Updating...":"Approve Application"}),(0,a.jsx)("button",{onClick:()=>x("under_review"),disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:c?"Updating...":"Mark Under Review"}),(0,a.jsx)("button",{onClick:()=>x("rejected"),disabled:c,className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:c?"Updating...":"Reject Application"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes"}),(0,a.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),rows:4,className:"input-field mb-3",placeholder:"Add notes about this application..."}),(0,a.jsx)("button",{onClick:()=>{s&&(l({...s,notes:u}),alert("Notes updated successfully!"))},className:"w-full btn-secondary",children:"Update Notes"})]})]})]})]}):(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Application Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"The application you're looking for doesn't exist."}),(0,a.jsx)("button",{onClick:()=>t.push("/admin/certifications/applications"),className:"btn-primary",children:"Back to Applications"})]})})}}},function(e){e.O(0,[5248,5633,1744],function(){return e(e.s=8546)}),_N_E=e.O()}]);