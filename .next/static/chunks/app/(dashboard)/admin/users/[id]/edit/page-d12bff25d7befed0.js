(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1339],{4460:function(e,s,a){Promise.resolve().then(a.bind(a,7713))},1509:function(e,s,a){"use strict";var t=a(5658);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},7713:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return i}});var t=a(9692),l=a(9693),n=a(1509);function i(){let e=(0,n.useParams)(),s=(0,n.useRouter)(),[a,i]=(0,l.useState)(null),[r,d]=(0,l.useState)(!0),[c,o]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let s=async()=>{try{console.log("DEBUG: Fetching user for edit with ID:",e.id);let s={id:e.id,email:"instructor@lpu.edu.ph",firstName:"Maria",lastName:"Santos",role:"staff",status:"active",phone:"+63 912 345 6789",address:"123 Main St, Cavite, Philippines",dateOfBirth:"1985-06-15",emergencyContact:"Juan Santos - +63 912 345 6788"};i(s)}catch(e){console.error("Error fetching user:",e)}finally{d(!1)}};e.id&&s()},[e.id]);let u=async e=>{if(e.preventDefault(),a){o(!0);try{console.log("DEBUG: Saving user:",a),await new Promise(e=>setTimeout(e,1e3)),alert("User updated successfully!"),s.push("/admin/users/".concat(a.id))}catch(e){console.error("Error updating user:",e),alert("Failed to update user")}finally{o(!1)}}},m=(e,s)=>{a&&i({...a,[e]:s})};return r?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a?(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit User"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Update user information and settings"})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{onClick:()=>s.push("/admin/users/".concat(a.id)),className:"btn-secondary",children:"Cancel"}),(0,t.jsx)("button",{onClick:u,disabled:c,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Saving...":"Save Changes"})]})]})}),(0,t.jsxs)("form",{onSubmit:u,className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.firstName,onChange:e=>m("firstName",e.target.value),className:"input-field"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,t.jsx)("input",{type:"text",required:!0,value:a.lastName,onChange:e=>m("lastName",e.target.value),className:"input-field"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",required:!0,value:a.email,onChange:e=>m("email",e.target.value),className:"input-field"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,t.jsx)("input",{type:"tel",value:a.phone||"",onChange:e=>m("phone",e.target.value),className:"input-field",placeholder:"e.g., +63 912 345 6789"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),(0,t.jsx)("input",{type:"date",value:a.dateOfBirth||"",onChange:e=>m("dateOfBirth",e.target.value),className:"input-field"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),(0,t.jsxs)("select",{required:!0,value:a.role,onChange:e=>m("role",e.target.value),className:"input-field",children:[(0,t.jsx)("option",{value:"student",children:"Student"}),(0,t.jsx)("option",{value:"staff",children:"Staff"}),(0,t.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,t.jsx)("textarea",{value:a.address||"",onChange:e=>m("address",e.target.value),className:"input-field",rows:3,placeholder:"Complete address"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact"}),(0,t.jsx)("input",{type:"text",value:a.emergencyContact||"",onChange:e=>m("emergencyContact",e.target.value),className:"input-field",placeholder:"Name - Phone Number"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Account Settings"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,t.jsxs)("select",{required:!0,value:a.status,onChange:e=>m("status",e.target.value),className:"input-field",children:[(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"inactive",children:"Inactive"}),(0,t.jsx)("option",{value:"pending",children:"Pending"})]})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>s.push("/admin/users/".concat(a.id)),className:"btn-secondary",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Saving...":"Save Changes"})]})]})]}):(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"User Not Found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"The user you're looking for doesn't exist."}),(0,t.jsx)("button",{onClick:()=>s.push("/admin/users"),className:"btn-primary",children:"Back to Users"})]})})}}},function(e){e.O(0,[5248,5633,1744],function(){return e(e.s=4460)}),_N_E=e.O()}]);