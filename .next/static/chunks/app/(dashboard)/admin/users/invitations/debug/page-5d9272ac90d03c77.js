(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1312],{8429:function(t,e,n){Promise.resolve().then(n.bind(n,7037))},1509:function(t,e,n){"use strict";var s=n(5658);n.o(s,"useParams")&&n.d(e,{useParams:function(){return s.useParams}}),n.o(s,"usePathname")&&n.d(e,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(e,{useRouter:function(){return s.useRouter}})},7037:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var s=n(9692),a=n(9693),i=n(1509);function o(){let t=(0,i.useRouter)(),[e,n]=(0,a.useState)(!1),o=async()=>{n(!0);try{let t={id:Date.now().toString(),email:"test.invite.".concat(Date.now(),"@lpu.edu.ph"),role:"student",invitationCode:"TEST".concat(Date.now()),status:"pending",sentAt:new Date().toISOString(),expiresAt:new Date(Date.now()+6048e5).toISOString(),sentBy:"admin@lpu.edu.ph"},e=JSON.parse(localStorage.getItem("demo-invitations")||"[]"),n=[t,...e];localStorage.setItem("demo-invitations",JSON.stringify(n)),console.log("\uD83D\uDD0D DEBUG: Test invitation created:",t),console.log("\uD83D\uDD0D DEBUG: Total invitations:",n.length),console.log("\uD83D\uDD0D DEBUG: All invitations:",n),alert("Test invitation created successfully! Total invitations: ".concat(n.length))}catch(t){console.error("Error creating test invitation:",t),alert("Error creating test invitation")}finally{n(!1)}},r=async()=>{n(!0);try{let t=[{id:"".concat(Date.now(),"-1"),email:"admin.invite.".concat(Date.now(),"@lpu.edu.ph"),role:"admin",invitationCode:"ADM".concat(Date.now()),status:"pending",sentAt:new Date().toISOString(),expiresAt:new Date(Date.now()+6048e5).toISOString(),sentBy:"admin@lpu.edu.ph"},{id:"".concat(Date.now(),"-2"),email:"staff.invite.".concat(Date.now(),"@lpu.edu.ph"),role:"staff",invitationCode:"STF".concat(Date.now()),status:"pending",sentAt:new Date().toISOString(),expiresAt:new Date(Date.now()+6048e5).toISOString(),sentBy:"admin@lpu.edu.ph"},{id:"".concat(Date.now(),"-3"),email:"student.invite.".concat(Date.now(),"@lpunetwork.edu.ph"),role:"student",invitationCode:"STU".concat(Date.now()),status:"accepted",sentAt:new Date(Date.now()-1728e5).toISOString(),expiresAt:new Date(Date.now()+432e6).toISOString(),sentBy:"admin@lpu.edu.ph"},{id:"".concat(Date.now(),"-4"),email:"expired.invite.".concat(Date.now(),"@lpunetwork.edu.ph"),role:"student",invitationCode:"EXP".concat(Date.now()),status:"expired",sentAt:new Date(Date.now()-864e6).toISOString(),expiresAt:new Date(Date.now()-2592e5).toISOString(),sentBy:"admin@lpu.edu.ph"}],e=JSON.parse(localStorage.getItem("demo-invitations")||"[]"),n=[...t,...e];localStorage.setItem("demo-invitations",JSON.stringify(n)),console.log("\uD83D\uDD0D DEBUG: Multiple test invitations created:",t),console.log("\uD83D\uDD0D DEBUG: Total invitations:",n.length),alert("".concat(t.length," test invitations created successfully! Total: ").concat(n.length))}catch(t){console.error("Error creating test invitations:",t),alert("Error creating test invitations")}finally{n(!1)}},l=async()=>{n(!0);try{let t=JSON.parse(localStorage.getItem("demo-invitations")||"[]");if(0===t.length){alert("No invitations found. Create some test invitations first.");return}let e=t.map((t,e)=>0===e&&"pending"===t.status?{...t,status:"accepted"}:1===e&&"pending"===t.status?{...t,status:"expired"}:t);localStorage.setItem("demo-invitations",JSON.stringify(e)),console.log("\uD83D\uDD0D DEBUG: Invitation statuses updated:",e),alert("Invitation statuses updated successfully!")}catch(t){console.error("Error updating invitation statuses:",t),alert("Error updating invitation statuses")}finally{n(!1)}};return(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Invitations Debug Tools"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Test localStorage persistence for User Invitations"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Debug Actions"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)("button",{onClick:o,disabled:e,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Creating...":"Create Single Test Invitation"}),(0,s.jsx)("button",{onClick:r,disabled:e,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Creating...":"Create Multiple Test Invitations"}),(0,s.jsx)("button",{onClick:l,disabled:e,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Updating...":"Simulate Status Changes"}),(0,s.jsx)("button",{onClick:()=>{try{let t=JSON.parse(localStorage.getItem("demo-invitations")||"[]");console.log("\uD83D\uDD0D DEBUG: Invitations localStorage content:",t);let e=t.reduce((t,e)=>(t[e.status]=(t[e.status]||0)+1,t),{});console.log("\uD83D\uDD0D DEBUG: Invitation status counts:",e),alert("Found ".concat(t.length," invitations in localStorage. Status breakdown: ").concat(JSON.stringify(e),". Check console for details."))}catch(t){console.error("Error reading invitations localStorage:",t),alert("Error reading invitations localStorage")}},className:"btn-secondary",children:"Check Invitations localStorage"}),(0,s.jsx)("button",{onClick:()=>{if(confirm("Are you sure you want to clear all invitations data?"))try{localStorage.removeItem("demo-invitations"),console.log("\uD83D\uDD0D DEBUG: Invitations localStorage cleared"),alert("Invitations localStorage cleared successfully")}catch(t){console.error("Error clearing invitations localStorage:",t),alert("Error clearing invitations localStorage")}},className:"btn-secondary bg-red-50 text-red-600 hover:bg-red-100",children:"Clear Invitations localStorage"}),(0,s.jsx)("button",{onClick:()=>t.push("/admin/users/invitations"),className:"btn-secondary",children:"Go to Invitations"}),(0,s.jsx)("button",{onClick:()=>t.push("/admin/users/debug"),className:"btn-secondary",children:"Go to Users Debug"}),(0,s.jsx)("button",{onClick:()=>t.push("/admin/debug"),className:"btn-secondary",children:"Back to Debug Dashboard"})]})]}),(0,s.jsxs)("div",{className:"mt-6 bg-blue-50 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Testing Instructions"}),(0,s.jsxs)("div",{className:"text-sm text-blue-800 space-y-2",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"1."})," Create test invitations using the buttons above"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"2."})," Navigate to User Invitations to verify they appear"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"3."})," Test the invitation form by creating new invitations manually"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"4."}),' Use "Simulate Status Changes" to test different invitation states']}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"5."})," Refresh the page to test persistence"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"6."})," Check browser console for detailed debug logs"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"7."})," Test resend/revoke functionality on pending invitations"]})]})]}),(0,s.jsxs)("div",{className:"mt-6 bg-gray-50 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invitation Status Legend"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"pending"}),(0,s.jsx)("span",{children:"Invitation sent, awaiting response"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"accepted"}),(0,s.jsx)("span",{children:"User has accepted and registered"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"expired"}),(0,s.jsx)("span",{children:"Invitation has expired"})]})]})]})]})}}},function(t){t.O(0,[5248,5633,1744],function(){return t(t.s=8429)}),_N_E=t.O()}]);