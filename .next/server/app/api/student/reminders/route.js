"use strict";(()=>{var e={};e.id=4704,e.ids=[4704],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},26071:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>_,patchFetch:()=>p,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>c,staticGenerationAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{GET:()=>d});var i=r(81295),a=r(10829),n=r(50704),o=r(37572);async function d(e){try{let t=(e.headers.get("cookie")||"").split(";").find(e=>e.trim().startsWith("demo-session=")),r=null;if(t)try{let e=decodeURIComponent(t.split("=")[1]);r=JSON.parse(e),console.log("\uD83D\uDD0D DEBUG: Found demo session in Student Reminders GET API:",r)}catch(e){return console.error("\uD83D\uDD0D DEBUG: Error parsing demo session in Student Reminders GET API:",e),o.NextResponse.json({error:"Invalid session"},{status:401})}if(!r||!r.authenticated)return console.log("\uD83D\uDD0D DEBUG: Authentication failed - userSession:",r),o.NextResponse.json({error:"Authentication required"},{status:401});console.log("\uD83D\uDD0D DEBUG: Authentication successful for Student Reminders GET:",r.email);let s=r.email,i=r.role,a=[{id:"1",title:"Welcome to CTE Learning Platform",message:"Welcome to our comprehensive Technical Education platform! Explore your courses and start your learning journey.",reminder_type:"announcement",priority:"medium",target_audience:"all_students",target_user_ids:[],target_course_ids:[],target_emails:[],is_active:!0,is_dismissible:!0,expires_at:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by_user:{id:"admin1",first_name:"Admin",last_name:"User",email:"admin@lpu.edu.ph",role:"admin"}},{id:"2",title:"Assignment Deadline Reminder",message:"Don't forget to submit your pending assignments before the deadline. Check your course dashboard for details.",reminder_type:"deadline",priority:"high",target_audience:"all_students",target_user_ids:[],target_course_ids:[],target_emails:[],is_active:!0,is_dismissible:!0,expires_at:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by_user:{id:"staff1",first_name:"Maria",last_name:"Santos",email:"maria.santos@lpu.edu.ph",role:"staff"}},{id:"3",title:"System Maintenance Notice",message:"Scheduled maintenance will occur this weekend from 2:00 AM to 6:00 AM. Some features may be temporarily unavailable.",reminder_type:"maintenance",priority:"urgent",target_audience:"all_users",target_user_ids:[],target_course_ids:[],target_emails:[],is_active:!0,is_dismissible:!1,expires_at:new Date(Date.now()+6048e5).toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by_user:{id:"admin1",first_name:"Admin",last_name:"User",email:"admin@lpu.edu.ph",role:"admin"}},{id:"4",title:"Specific Email Test",message:"This is a test reminder sent to specific email addresses.",reminder_type:"general",priority:"medium",target_audience:"specific_emails",target_user_ids:[],target_course_ids:[],target_emails:["student@lpunetwork.edu.ph","test@example.com"],is_active:!0,is_dismissible:!0,expires_at:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by_user:{id:"admin1",first_name:"Admin",last_name:"User",email:"admin@lpu.edu.ph",role:"admin"}}].filter(e=>{if(!e.is_active||e.expires_at&&new Date(e.expires_at)<new Date)return!1;switch(e.target_audience){case"all_users":return!0;case"all_students":case"specific_students":case"course_students":return"student"===i;case"staff_only":return"staff"===i;case"admin_only":return"admin"===i;case"specific_emails":return e.target_emails.includes(s);default:return!1}});return o.NextResponse.json({reminders:a,user:{email:s,role:i}})}catch(e){return console.error("Error in GET /api/student/reminders:",e),o.NextResponse.json({error:"Internal server error"},{status:500})}}let u=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/student/reminders/route",pathname:"/api/student/reminders",filename:"route",bundlePath:"app/api/student/reminders/route"},resolvedPagePath:"C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\api\\student\\reminders\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:c}=u,_="/api/student/reminders/route";function p(){return(0,n.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:m})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9443,5751],()=>r(26071));module.exports=s})();