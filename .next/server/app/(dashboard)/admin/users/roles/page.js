(()=>{var e={};e.id=1313,e.ids=[1313],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},36338:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(53305),t(29533),t(67751),t(62777);var a=t(75493),r=t(86642),i=t(52430),n=t.n(i),l=t(55518),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c=["",{children:["(dashboard)",{children:["admin",{children:["users",{children:["roles",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,53305)),"C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\(dashboard)\\admin\\users\\roles\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,29533)),"C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,67751,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,62777)),"C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,67751,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\(dashboard)\\admin\\users\\roles\\page.tsx"],m="/(dashboard)/admin/users/roles/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/admin/users/roles/page",pathname:"/admin/users/roles",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},73008:(e,s,t)=>{Promise.resolve().then(t.bind(t,90656))},90656:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(51760),r=t(20017);function i(){let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[d,c]=(0,r.useState)(null),[o,m]=(0,r.useState)(!1),x=()=>{let e={};return t.forEach(s=>{e[s.category]||(e[s.category]=[]),e[s.category].push(s)}),e},u=e=>{c({...e}),m(!0)},p=async()=>{if(d)try{console.log("Updating role:",d),s(e=>e.map(e=>e.id===d.id?d:e)),m(!1),c(null),alert("Role updated successfully!")}catch(e){console.error("Error updating role:",e),alert("Failed to update role")}},h=e=>{if(!d)return;let s=d.permissions.includes(e);c(t=>({...t,permissions:s?t.permissions.filter(s=>s!==e):[...t.permissions,e]}))};return n?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Roles & Permissions"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage user roles and their permissions"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsx("button",{onClick:()=>u(e),className:"text-blue-600 hover:text-blue-900 text-sm",children:"Edit"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users:"}),a.jsx("span",{className:"font-medium",children:e.userCount})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Permissions:"}),a.jsx("span",{className:"font-medium",children:e.permissions.length})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Created:"}),a.jsx("span",{className:"font-medium",children:new Date(e.createdAt).toLocaleDateString()})]})]})]},e.id))}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Permissions"})}),a.jsx("div",{className:"p-6",children:Object.entries(x()).map(([e,s])=>(0,a.jsxs)("div",{className:"mb-6 last:mb-0",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:e}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.map(e=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("div",{className:"text-xs text-gray-500",children:e.description})]})},e.id))})]},e))})]}),o&&d&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Edit Role: ",d.name]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name"}),a.jsx("input",{type:"text",value:d.name,onChange:e=>c(s=>({...s,name:e.target.value})),className:"input-field"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:d.description,onChange:e=>c(s=>({...s,description:e.target.value})),className:"input-field",rows:3})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Permissions"}),Object.entries(x()).map(([e,s])=>(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:e}),a.jsx("div",{className:"space-y-2",children:s.map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:d.permissions.includes(e.id),onChange:()=>h(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsxs)("div",{className:"ml-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))})]},e))]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:p,className:"btn-primary flex-1",children:"Save Changes"}),a.jsx("button",{onClick:()=>{m(!1),c(null)},className:"btn-secondary flex-1",children:"Cancel"})]})]})})]})}},53305:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(62616).createProxy)(String.raw`C:\CapstoneProject\Capstone_Project-main\src\app\(dashboard)\admin\users\roles\page.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[3469,6996,4780,187],()=>t(36338));module.exports=a})();