(()=>{var e={};e.id=8673,e.ids=[8673],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},92342:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>u,tree:()=>c}),s(50274),s(29533),s(67751),s(62777);var a=s(75493),r=s(86642),i=s(52430),l=s.n(i),n=s(55518),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["(dashboard)",{children:["staff",{children:["students",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,50274)),"C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\(dashboard)\\staff\\students\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,29533)),"C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,67751,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,62777)),"C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,67751,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\(dashboard)\\staff\\students\\[id]\\page.tsx"],o="/(dashboard)/staff/students/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/staff/students/[id]/page",pathname:"/staff/students/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},53517:(e,t,s)=>{Promise.resolve().then(s.bind(s,92932))},92932:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(51760),r=s(20017),i=s(45515),l=s(52240);function n(){(0,i.useParams)(),(0,i.useRouter)();let[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)([]),[d,c]=(0,r.useState)(!0),[x,o]=(0,r.useState)(!1),[m,u]=(0,r.useState)(null),[p,h]=(0,r.useState)(""),g=e=>{switch(e){case"approved":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"rejected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},f=e=>{u(e),h(e.remarks||""),o(!0)},j=async e=>{if(m)try{console.log("Updating certificate:",m.id,e,p);let t=s.map(t=>t.id===m.id?{...t,status:"approve"===e?"approved":"rejected",remarks:p,reviewed_at:new Date().toISOString().split("T")[0],reviewed_by:"staff@lpu.edu.ph"}:t);n(t),o(!1),u(null),h(""),alert(`Certificate ${e}d successfully!`)}catch(e){console.error("Error updating certificate:",e),alert("Error updating certificate. Please try again.")}},b=async e=>{if(confirm("Are you sure you want to remove this certificate submission?"))try{console.log("Removing certificate:",e);let t=s.filter(t=>t.id!==e);n(t),alert("Certificate removed successfully!")}catch(e){console.error("Error removing certificate:",e),alert("Error removing certificate. Please try again.")}};return d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e?(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Profile"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and manage student information and certificates"})]}),a.jsx(l.default,{href:"/staff/students",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium",children:"Back to Students"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-6",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-2xl font-medium text-blue-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),a.jsx("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:e.student_id})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Contact Information"}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm text-gray-900",children:e.email}),e.phone&&a.jsx("p",{className:"text-sm text-gray-900",children:e.phone}),e.address&&a.jsx("p",{className:"text-sm text-gray-900",children:e.address})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Academic Progress"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Overall Progress"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.overall_progress,"%"]})]}),a.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.overall_progress}%`}})})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:["Assignments: ",e.completed_assignments,"/",e.total_assignments]}),(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:["Average Score: ",e.average_score,"%"]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Enrolled Courses"}),a.jsx("div",{className:"space-y-1",children:e.course_names.map((e,t)=>a.jsx("span",{className:"inline-block text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded mr-1 mb-1",children:e},t))})]})]})]})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Certificate Submissions"})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.certificate_name}),a.jsx("div",{className:"text-sm text-gray-500",children:e.certificate_number})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-800",children:e.certificate_type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.submitted_at}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g(e.status)}`,children:e.status.toUpperCase()})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>f(e),className:"text-blue-600 hover:text-blue-500",children:"Review"}),a.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-500",children:"View File"}),a.jsx("button",{onClick:()=>b(e.id),className:"text-red-600 hover:text-red-500",children:"Remove"})]})})]},e.id))})]})})]}),x&&m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Review Certificate Submission"}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Student:"}),a.jsx("p",{className:"text-sm text-gray-900",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e.email})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Certificate Type:"}),a.jsx("p",{className:"text-sm text-gray-900",children:m.certificate_type})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Certificate Name:"}),a.jsx("p",{className:"text-sm text-gray-900",children:m.certificate_name})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Certificate Number:"}),a.jsx("p",{className:"text-sm text-gray-900",children:m.certificate_number})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Course Name:"}),a.jsx("p",{className:"text-sm text-gray-900",children:m.course_name})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date Accredited:"}),a.jsx("p",{className:"text-sm text-gray-900",children:m.date_accredited})]}),m.expiration_date&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Expiration Date:"}),a.jsx("p",{className:"text-sm text-gray-900",children:m.expiration_date})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Certificate File:"}),a.jsx("div",{className:"mt-1",children:(0,a.jsxs)("a",{href:m.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:["\uD83D\uDCC4 View ",m.file_name]})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks:"}),a.jsx("textarea",{value:p,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Add remarks for approval or rejection..."})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>j("approve"),className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Approve"}),a.jsx("button",{onClick:()=>j("reject"),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Reject"}),a.jsx("button",{onClick:()=>{o(!1),u(null),h("")},className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})})]}):a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Student Not Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"The student you're looking for doesn't exist."}),a.jsx(l.default,{href:"/staff/students",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:"Back to Students"})]})})}},50274:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(62616).createProxy)(String.raw`C:\CapstoneProject\Capstone_Project-main\src\app\(dashboard)\staff\students\[id]\page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[3469,6996,4780,187],()=>s(92342));module.exports=a})();