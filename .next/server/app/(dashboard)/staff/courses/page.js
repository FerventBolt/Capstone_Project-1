(()=>{var e={};e.id=6206,e.ids=[6206],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},95472:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(83315),s(29533),s(67751),s(62777);var l=s(75493),a=s(86642),r=s(52430),n=s.n(r),i=s(55518),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["(dashboard)",{children:["staff",{children:["courses",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,83315)),"C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\(dashboard)\\staff\\courses\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,29533)),"C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,67751,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,62777)),"C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,67751,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\CapstoneProject\\Capstone_Project-main\\src\\app\\(dashboard)\\staff\\courses\\page.tsx"],m="/(dashboard)/staff/courses/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new l.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/staff/courses/page",pathname:"/staff/courses",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91789:(e,t,s)=>{Promise.resolve().then(s.bind(s,88170))},88170:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var l=s(51760),a=s(20017),r=s(52240),n=s(81659);function i(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0),[c,m]=(0,a.useState)(""),[u,x]=(0,a.useState)("all"),[g,h]=(0,a.useState)("all"),[p,b]=(0,a.useState)(!1),[f,j]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),[N,C]=(0,a.useState)(null),[w,S]=(0,a.useState)(!1),[k,D]=(0,a.useState)(null),[I,E]=(0,a.useState)([]),[P,A]=(0,a.useState)([]),[L,F]=(0,a.useState)(!1),[O,q]=(0,a.useState)({title:"",code:"",description:"",category:"Food & Beverages",level:"NC I",duration:40,instructor:"Current Staff",maxStudents:25,status:"draft",allowSelfEnrollment:!0,coursePassword:""}),[M,$]=(0,a.useState)([]),[B,_]=(0,a.useState)("course"),[R,T]=(0,a.useState)(!1),[z,U]=(0,a.useState)(null),[J,G]=(0,a.useState)([]),H=e.filter(e=>{let t=e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase())||e.instructor.toLowerCase().includes(c.toLowerCase()),s="all"===u||e.category===u,l="all"===g||e.status===g;return t&&s&&l}),Z=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"draft":return"bg-yellow-100 text-yellow-800"}},V=e=>{switch(e){case"Food & Beverages":return"bg-blue-100 text-blue-800";case"Front Office":return"bg-purple-100 text-purple-800";case"Housekeeping":return"bg-green-100 text-green-800";case"Tourism":return"bg-orange-100 text-orange-800";case"Cookery":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},K=e=>{j(e),b(!0)},W=e=>{C(e),y(!0)},X=s=>{let l=e.map(e=>e.id===s.id?s:e);t(l);try{let e=l.filter(e=>!["1"].includes(e.id));localStorage.setItem("demo-courses",JSON.stringify(e)),console.log("\uD83D\uDD0D DEBUG: Course edit saved to localStorage")}catch(e){console.error("\uD83D\uDD0D DEBUG: Error saving course edit to localStorage:",e)}y(!1),C(null),alert("Course updated successfully!")},Q=s=>{if(confirm("Are you sure you want to delete this course? This action cannot be undone.")){let l=e.filter(e=>e.id!==s);t(l);try{let e=l.filter(e=>!["1"].includes(e.id));localStorage.setItem("demo-courses",JSON.stringify(e)),console.log("\uD83D\uDD0D DEBUG: Course deletion saved to localStorage")}catch(e){console.error("\uD83D\uDD0D DEBUG: Error saving course deletion to localStorage:",e)}b(!1),j(null),alert("Course deleted successfully!")}},Y=e=>{D(e);try{let t=JSON.parse(localStorage.getItem("demo-enrollments")||"[]").filter(t=>t.courseId===e.id),s=I.filter(e=>t.some(t=>t.studentId===e.id));A(s)}catch(e){console.error("Error loading enrolled students:",e),A([])}S(!0)},ee=s=>{if(k)try{A(e=>[...e,s]);let l=JSON.parse(localStorage.getItem("demo-enrollments")||"[]"),a={id:Date.now().toString(),studentId:s.id,courseId:k.id,enrolledAt:new Date().toISOString(),status:"active",progress:0};l.push(a),localStorage.setItem("demo-enrollments",JSON.stringify(l));let r=e.map(e=>e.id===k.id?{...e,enrolledStudents:e.enrolledStudents+1}:e);t(r);let n=r.filter(e=>!["1"].includes(e.id));localStorage.setItem("demo-courses",JSON.stringify(n)),alert(`${s.name} has been enrolled in the course!`)}catch(e){console.error("Error enrolling student:",e),alert("Failed to enroll student. Please try again.")}},et=s=>{if(k)try{A(e=>e.filter(e=>e.id!==s.id));let l=JSON.parse(localStorage.getItem("demo-enrollments")||"[]").filter(e=>!(e.studentId===s.id&&e.courseId===k.id));localStorage.setItem("demo-enrollments",JSON.stringify(l));let a=e.map(e=>e.id===k.id?{...e,enrolledStudents:Math.max(0,e.enrolledStudents-1)}:e);t(a);let r=a.filter(e=>!["1"].includes(e.id));localStorage.setItem("demo-courses",JSON.stringify(r)),alert(`${s.name} has been removed from the course.`)}catch(e){console.error("Error removing student:",e),alert("Failed to remove student. Please try again.")}},es=(e,t,s)=>{$(l=>l.map((l,a)=>a===e?{...l,[t]:s}:l))},el=e=>{$(t=>t.filter((t,s)=>s!==e))},ea=e=>{$(t=>t.map((t,s)=>s===e?{...t,materials:[...t.materials,{name:"",type:"pdf",url:"",size:""}]}:t))},er=(e,t,s,l)=>{$(a=>a.map((a,r)=>r===e?{...a,materials:a.materials.map((e,a)=>a===t?{...e,[s]:l}:e)}:a))},en=(e,t)=>{$(s=>s.map((s,l)=>l===e?{...s,materials:s.materials.filter((e,s)=>s!==t)}:s))},ei=e=>{$(t=>t.map((t,s)=>s===e?{...t,assignments:[...t.assignments,{title:"",description:"",dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0]}]}:t))},eo=(e,t,s,l)=>{$(a=>a.map((a,r)=>r===e?{...a,assignments:a.assignments.map((e,a)=>a===t?{...e,[s]:l}:e)}:a))},ed=(e,t)=>{$(s=>s.map((s,l)=>l===e?{...s,assignments:s.assignments.filter((e,s)=>s!==t)}:s))},ec=(e,t,s)=>{G(l=>l.map((l,a)=>a===e?{...l,[t]:s}:l))},em=e=>{G(t=>t.filter((t,s)=>s!==e))},eu=e=>{G(t=>t.map((t,s)=>s===e?{...t,materials:[...t.materials,{name:"",type:"pdf",url:"",size:""}]}:t))},ex=(e,t,s,l)=>{G(a=>a.map((a,r)=>r===e?{...a,materials:a.materials.map((e,a)=>a===t?{...e,[s]:l}:e)}:a))},eg=(e,t)=>{G(s=>s.map((s,l)=>l===e?{...s,materials:s.materials.filter((e,s)=>s!==t)}:s))},eh=e=>{G(t=>t.map((t,s)=>s===e?{...t,assignments:[...t.assignments,{id:`assignment-${Date.now()}`,title:"",description:"",dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],status:"draft"}]}:t))},ep=(e,t,s,l)=>{G(a=>a.map((a,r)=>r===e?{...a,assignments:a.assignments.map((e,a)=>a===t?{...e,[s]:l}:e)}:a))},eb=(e,t)=>{G(s=>s.map((s,l)=>l===e?{...s,assignments:s.assignments.filter((e,s)=>s!==t)}:s))},ef=(e,t,s)=>{let l=URL.createObjectURL(s),a=Math.round(s.size/1024),r=a>1024?`${(a/1024).toFixed(1)}MB`:`${a}KB`;G(a=>a.map((a,n)=>n===e?{...a,materials:a.materials.map((e,a)=>a===t?{...e,file:s,fileName:s.name,url:l,size:r,name:e.name||s.name.split(".")[0]}:e)}:a))},ej=e=>{switch(e){case"pdf":return".pdf";case"video":return".mp4,.avi,.mov,.wmv,.flv,.webm";case"document":return".doc,.docx,.txt,.rtf,.odt";case"link":return"";default:return"*"}},ev=e=>{switch(e){case"pdf":return"\uD83D\uDCC4";case"video":return"\uD83C\uDFA5";case"document":return"\uD83D\uDCDD";case"link":return"\uD83D\uDD17";default:return"\uD83D\uDCCE"}};return o?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,l.jsxs)("div",{className:"p-6",children:[l.jsx("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Course Management"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Manage all courses and training programs"})]}),(0,l.jsxs)("button",{onClick:()=>F(!0),className:"btn-primary flex items-center space-x-2",children:[l.jsx(n.Z,{className:"w-4 h-4"}),l.jsx("span",{children:"Create New Course"})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Courses"}),l.jsx("input",{type:"text",placeholder:"Search by title, description, or instructor...",value:c,onChange:e=>m(e.target.value),className:"input-field"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),(0,l.jsxs)("select",{value:u,onChange:e=>x(e.target.value),className:"input-field",children:[l.jsx("option",{value:"all",children:"All Categories"}),l.jsx("option",{value:"Food & Beverages",children:"Food & Beverages"}),l.jsx("option",{value:"Front Office",children:"Front Office"}),l.jsx("option",{value:"Housekeeping",children:"Housekeeping"}),l.jsx("option",{value:"Tourism",children:"Tourism"}),l.jsx("option",{value:"Cookery",children:"Cookery"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),(0,l.jsxs)("select",{value:g,onChange:e=>h(e.target.value),className:"input-field",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"draft",children:"Draft"})]})]})]})}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:H.map(e=>(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V(e.category)}`,children:e.category}),l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:e.level})]})]}),l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(e.status)}`,children:e.status})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),(0,l.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Instructor:"}),l.jsx("span",{className:"font-medium",children:e.instructor})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Duration:"}),(0,l.jsxs)("span",{className:"font-medium",children:[e.duration," hours"]})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Enrollment:"}),(0,l.jsxs)("span",{className:"font-medium",children:[e.enrolledStudents,"/",e.maxStudents]})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.enrolledStudents/e.maxStudents*100}%`}})}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[l.jsx("button",{onClick:()=>K(e),className:"text-sm bg-blue-50 text-blue-600 hover:bg-blue-100 px-3 py-2 rounded-lg transition-colors",children:"View Details"}),l.jsx("button",{onClick:()=>W(e),className:"text-sm bg-gray-50 text-gray-600 hover:bg-gray-100 px-3 py-2 rounded-lg transition-colors",children:"Edit Course"}),l.jsx(r.default,{href:`/staff/courses/${e.id}`,className:"text-sm bg-purple-50 text-purple-600 hover:bg-purple-100 px-3 py-2 rounded-lg transition-colors inline-block text-center",children:"Manage Content"}),l.jsx("button",{onClick:()=>Y(e),className:"text-sm bg-green-50 text-green-600 hover:bg-green-100 px-3 py-2 rounded-lg transition-colors",children:"Manage Students"})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx("button",{onClick:()=>Q(e.id),className:"text-sm bg-red-50 text-red-600 hover:bg-red-100 px-3 py-2 rounded-lg transition-colors",title:"Delete Course",children:"\uD83D\uDDD1️ Delete Course"})})]},e.id))}),0===H.length&&(0,l.jsxs)("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDCDA"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses found"}),l.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria."})]}),p&&f&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Course Details: ",f.title]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("p",{className:"text-sm text-gray-900 mt-1",children:f.description})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V(f.category)} mt-1`,children:f.category})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Level"}),l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800 mt-1",children:f.level})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duration"}),(0,l.jsxs)("p",{className:"text-sm text-gray-900 mt-1",children:[f.duration," hours"]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Instructor"}),l.jsx("p",{className:"text-sm text-gray-900 mt-1",children:f.instructor})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Enrollment"}),(0,l.jsxs)("p",{className:"text-sm text-gray-900 mt-1",children:[f.enrolledStudents,"/",f.maxStudents," students"]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(f.status)} mt-1`,children:f.status})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created"}),l.jsx("p",{className:"text-sm text-gray-900 mt-1",children:new Date(f.createdAt).toLocaleDateString()})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Updated"}),l.jsx("p",{className:"text-sm text-gray-900 mt-1",children:new Date(f.updatedAt).toLocaleDateString()})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between mt-6",children:[l.jsx("button",{onClick:()=>Q(f.id),className:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-lg transition-colors",children:"Delete Course"}),l.jsx("button",{onClick:()=>{b(!1),j(null)},className:"btn-secondary",children:"Close"})]})]})}),v&&N&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Edit Course: ",N.title]}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),X(N)},className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Title"}),l.jsx("input",{type:"text",required:!0,value:N.title,onChange:e=>C(t=>t?{...t,title:e.target.value}:null),className:"input-field"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{required:!0,rows:3,value:N.description,onChange:e=>C(t=>t?{...t,description:e.target.value}:null),className:"input-field"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,l.jsxs)("select",{required:!0,value:N.category,onChange:e=>C(t=>t?{...t,category:e.target.value}:null),className:"input-field",children:[l.jsx("option",{value:"Food & Beverages",children:"Food & Beverages"}),l.jsx("option",{value:"Front Office",children:"Front Office"}),l.jsx("option",{value:"Housekeeping",children:"Housekeeping"}),l.jsx("option",{value:"Tourism",children:"Tourism"}),l.jsx("option",{value:"Cookery",children:"Cookery"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),(0,l.jsxs)("select",{required:!0,value:N.level,onChange:e=>C(t=>t?{...t,level:e.target.value}:null),className:"input-field",children:[l.jsx("option",{value:"NC I",children:"NC I"}),l.jsx("option",{value:"NC II",children:"NC II"}),l.jsx("option",{value:"NC III",children:"NC III"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (hours)"}),l.jsx("input",{type:"number",required:!0,min:"1",value:N.duration,onChange:e=>C(t=>t?{...t,duration:parseInt(e.target.value)||0}:null),className:"input-field"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"}),l.jsx("input",{type:"number",required:!0,min:"1",value:N.maxStudents,onChange:e=>C(t=>t?{...t,maxStudents:parseInt(e.target.value)||0}:null),className:"input-field"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor"}),l.jsx("input",{type:"text",required:!0,value:N.instructor,onChange:e=>C(t=>t?{...t,instructor:e.target.value}:null),className:"input-field"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,l.jsxs)("select",{required:!0,value:N.status,onChange:e=>C(t=>t?{...t,status:e.target.value}:null),className:"input-field",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"draft",children:"Draft"})]})]})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Course Access Settings"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"allowSelfEnrollment",checked:N.allowSelfEnrollment,onChange:e=>C(t=>t?{...t,allowSelfEnrollment:e.target.checked}:null),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"allowSelfEnrollment",className:"ml-2 block text-sm text-gray-900",children:"Allow students to self-enroll with password"})]}),N.allowSelfEnrollment&&(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Password"}),l.jsx("input",{type:"text",placeholder:"Enter password for student enrollment",value:N.coursePassword||"",onChange:e=>C(t=>t?{...t,coursePassword:e.target.value}:null),className:"input-field"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students will need this password to enroll in the course"})]})]})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Save Changes"}),l.jsx("button",{type:"button",onClick:()=>{y(!1),C(null)},className:"btn-secondary flex-1",children:"Cancel"})]})]})]})}),w&&k&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Manage Students: ",k.title]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Available Students"}),(0,l.jsxs)("div",{className:"border rounded-lg p-4 max-h-96 overflow-y-auto",children:[I.filter(e=>!P.some(t=>t.id===e.id)).map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border-b last:border-b-0",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:e.name}),l.jsx("p",{className:"text-sm text-gray-500",children:e.email}),(0,l.jsxs)("p",{className:"text-xs text-gray-400",children:["ID: ",e.studentId]})]}),l.jsx("button",{onClick:()=>ee(e),className:"bg-green-50 text-green-600 hover:bg-green-100 px-3 py-1 rounded text-sm transition-colors",disabled:k.enrolledStudents>=k.maxStudents,children:"Add"})]},e.id)),0===I.filter(e=>!P.some(t=>t.id===e.id)).length&&l.jsx("p",{className:"text-gray-500 text-center py-4",children:"No available students"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:["Enrolled Students (",P.length,"/",k.maxStudents,")"]}),(0,l.jsxs)("div",{className:"border rounded-lg p-4 max-h-96 overflow-y-auto",children:[P.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border-b last:border-b-0",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:e.name}),l.jsx("p",{className:"text-sm text-gray-500",children:e.email}),(0,l.jsxs)("p",{className:"text-xs text-gray-400",children:["ID: ",e.studentId]})]}),l.jsx("button",{onClick:()=>et(e),className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-1 rounded text-sm transition-colors",children:"Remove"})]},e.id)),0===P.length&&l.jsx("p",{className:"text-gray-500 text-center py-4",children:"No enrolled students"})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["Course Password: ",l.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:k.coursePassword||"Not set"}),k.allowSelfEnrollment?l.jsx("span",{className:"ml-2 text-green-600",children:"✓ Self-enrollment enabled"}):l.jsx("span",{className:"ml-2 text-red-600",children:"✗ Self-enrollment disabled"})]}),l.jsx("button",{onClick:()=>{S(!1),D(null),A([])},className:"btn-secondary",children:"Close"})]})]})}),L&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Course"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${"course"===B?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:"1. Course Info"}),l.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${"lessons"===B?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:"2. Lessons & Content"})]})]}),"course"===B&&(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!O.title||!O.code||!O.description){alert("Please fill in all required fields.");return}_("lessons")},className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Title"}),l.jsx("input",{type:"text",required:!0,value:O.title||"",onChange:e=>q(t=>({...t,title:e.target.value})),className:"input-field",placeholder:"Enter course title"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Code"}),l.jsx("input",{type:"text",required:!0,value:O.code||"",onChange:e=>q(t=>({...t,code:e.target.value})),className:"input-field",placeholder:"Enter course code (e.g., RSO101)"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{required:!0,rows:3,value:O.description||"",onChange:e=>q(t=>({...t,description:e.target.value})),className:"input-field",placeholder:"Enter course description"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,l.jsxs)("select",{required:!0,value:O.category||"Food & Beverages",onChange:e=>q(t=>({...t,category:e.target.value})),className:"input-field",children:[l.jsx("option",{value:"Food & Beverages",children:"Food & Beverages"}),l.jsx("option",{value:"Front Office",children:"Front Office"}),l.jsx("option",{value:"Housekeeping",children:"Housekeeping"}),l.jsx("option",{value:"Tourism",children:"Tourism"}),l.jsx("option",{value:"Cookery",children:"Cookery"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),(0,l.jsxs)("select",{required:!0,value:O.level||"NC I",onChange:e=>q(t=>({...t,level:e.target.value})),className:"input-field",children:[l.jsx("option",{value:"NC I",children:"NC I"}),l.jsx("option",{value:"NC II",children:"NC II"}),l.jsx("option",{value:"NC III",children:"NC III"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,l.jsxs)("select",{required:!0,value:O.status||"draft",onChange:e=>q(t=>({...t,status:e.target.value})),className:"input-field",children:[l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (hours)"}),l.jsx("input",{type:"number",required:!0,min:"1",value:O.duration||40,onChange:e=>q(t=>({...t,duration:parseInt(e.target.value)||40})),className:"input-field"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"}),l.jsx("input",{type:"number",required:!0,min:"1",value:O.maxStudents||25,onChange:e=>q(t=>({...t,maxStudents:parseInt(e.target.value)||25})),className:"input-field"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor"}),l.jsx("input",{type:"text",required:!0,value:O.instructor||"Current Staff",onChange:e=>q(t=>({...t,instructor:e.target.value})),className:"input-field"})]})]}),(0,l.jsxs)("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Course Access Settings"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"newCourseAllowSelfEnrollment",checked:O.allowSelfEnrollment??!0,onChange:e=>q(t=>({...t,allowSelfEnrollment:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"newCourseAllowSelfEnrollment",className:"ml-2 block text-sm text-gray-900",children:"Allow students to self-enroll with password"})]}),O.allowSelfEnrollment&&(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Password"}),l.jsx("input",{type:"text",placeholder:"Enter password for student enrollment",value:O.coursePassword||"",onChange:e=>q(t=>({...t,coursePassword:e.target.value})),className:"input-field"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students will need this password to enroll in the course"})]})]})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Next: Add Lessons →"}),l.jsx("button",{type:"button",onClick:()=>{F(!1),q({title:"",code:"",description:"",category:"Food & Beverages",level:"NC I",duration:40,instructor:"Current Staff",maxStudents:25,status:"draft",allowSelfEnrollment:!0,coursePassword:""}),$([]),_("course")},className:"btn-secondary flex-1",children:"Cancel"})]})]}),"lessons"===B&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Course Lessons & Content"}),(0,l.jsxs)("button",{onClick:()=>{$(e=>[...e,{title:"",description:"",content:"",duration:45,materials:[],assignments:[]}])},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center space-x-2",children:[l.jsx(n.Z,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Lesson"})]})]}),(0,l.jsxs)("div",{className:"space-y-6 max-h-96 overflow-y-auto",children:[M.map((e,t)=>(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h5",{className:"text-md font-medium text-gray-900",children:["Lesson ",t+1]}),l.jsx("button",{onClick:()=>el(t),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lesson Title"}),l.jsx("input",{type:"text",value:e.title,onChange:e=>es(t,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter lesson title"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),l.jsx("input",{type:"number",min:"1",value:e.duration,onChange:e=>es(t,"duration",parseInt(e.target.value)||45),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{rows:2,value:e.description,onChange:e=>es(t,"description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter lesson description"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),l.jsx("textarea",{rows:3,value:e.content,onChange:e=>es(t,"content",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter lesson content and learning objectives"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Materials"}),l.jsx("button",{onClick:()=>ea(t),className:"text-blue-600 hover:text-blue-700 text-sm",children:"+ Add Material"})]}),l.jsx("div",{className:"space-y-2",children:e.materials.map((e,s)=>(0,l.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[l.jsx("input",{type:"text",value:e.name,onChange:e=>er(t,s,"name",e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Material name"}),(0,l.jsxs)("select",{value:e.type,onChange:e=>er(t,s,"type",e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[l.jsx("option",{value:"pdf",children:"PDF"}),l.jsx("option",{value:"video",children:"Video"}),l.jsx("option",{value:"document",children:"Document"}),l.jsx("option",{value:"link",children:"Link"})]}),l.jsx("button",{onClick:()=>en(t,s),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]}),"link"===e.type?l.jsx("input",{type:"url",value:e.url,onChange:e=>er(t,s,"url",e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Enter URL (e.g., https://example.com)"}):(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("label",{className:"flex items-center justify-center px-3 py-2 border border-gray-300 rounded cursor-pointer hover:bg-gray-100 transition-colors",children:[l.jsx("span",{className:"text-sm text-gray-600 mr-2",children:ev(e.type)}),l.jsx("span",{className:"text-sm text-gray-600",children:"Upload File"}),l.jsx("input",{type:"file",accept:ej(e.type),onChange:l=>{let a=l.target.files?.[0];if(a){let l=URL.createObjectURL(a),r=Math.round(a.size/1024),n=r>1024?`${(r/1024).toFixed(1)}MB`:`${r}KB`;er(t,s,"url",l),er(t,s,"size",n),e.name||er(t,s,"name",a.name.split(".")[0])}},className:"hidden"})]}),e.url&&l.jsx("div",{className:"text-xs text-green-600 bg-green-50 p-1 rounded",children:"✓ File selected"})]})]},s))})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assignments"}),l.jsx("button",{onClick:()=>ei(t),className:"text-blue-600 hover:text-blue-700 text-sm",children:"+ Add Assignment"})]}),l.jsx("div",{className:"space-y-2",children:e.assignments.map((e,s)=>(0,l.jsxs)("div",{className:"grid grid-cols-4 gap-2 items-center",children:[l.jsx("input",{type:"text",value:e.title,onChange:e=>eo(t,s,"title",e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Assignment title"}),l.jsx("input",{type:"text",value:e.description,onChange:e=>eo(t,s,"description",e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Assignment description"}),l.jsx("input",{type:"date",value:e.dueDate,onChange:e=>eo(t,s,"dueDate",e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm"}),l.jsx("button",{onClick:()=>ed(t,s),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]},s))})]})]},t)),0===M.length&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsx("p",{children:'No lessons added yet. Click "Add Lesson" to create your first lesson.'})})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4 border-t",children:[l.jsx("button",{onClick:()=>_("course"),className:"btn-secondary",children:"← Back"}),(0,l.jsxs)("button",{onClick:()=>{if(!O.title||!O.code||!O.description){alert("Please fill in all required fields.");return}let s=Date.now().toString(),l={id:s,title:O.title,code:O.code,description:O.description,category:O.category||"Food & Beverages",level:O.level||"NC I",duration:O.duration||40,instructor:O.instructor||"Current Staff",enrolledStudents:0,maxStudents:O.maxStudents||25,totalLessons:M.length,completedLessons:0,completionRate:0,pendingSubmissions:M.reduce((e,t)=>e+t.assignments.length,0),status:O.status||"draft",coursePassword:O.coursePassword||"",allowSelfEnrollment:O.allowSelfEnrollment??!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},a=M.map((e,t)=>({id:`${s}-lesson-${t+1}`,title:e.title,description:e.description,courseId:s,lessonNumber:t+1,contentType:"mixed",durationMinutes:e.duration,isPublished:"active"===l.status,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),completionRate:0,studentCount:0}));t(e=>[...e,l]),i(e=>[...e,...a]);try{let t=[...e,l].filter(e=>!["1"].includes(e.id));localStorage.setItem("demo-courses",JSON.stringify(t))}catch(e){console.error("Error saving course to localStorage:",e)}q({title:"",code:"",description:"",category:"Food & Beverages",level:"NC I",duration:40,instructor:"Current Staff",maxStudents:25,status:"draft",allowSelfEnrollment:!0,coursePassword:""}),$([]),_("course"),F(!1),alert("Course created successfully with lessons and materials!")},className:"btn-primary flex-1",children:["Create Course with ",M.length," Lesson",1!==M.length?"s":""]}),l.jsx("button",{onClick:()=>{F(!1),q({title:"",code:"",description:"",category:"Food & Beverages",level:"NC I",duration:40,instructor:"Current Staff",maxStudents:25,status:"draft",allowSelfEnrollment:!0,coursePassword:""}),$([]),_("course")},className:"btn-secondary",children:"Cancel"})]})]})]})}),R&&z&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Manage Course Content: ",z.title]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:[J.length," Lesson",1!==J.length?"s":""]}),(0,l.jsxs)("button",{onClick:()=>{G(e=>[...e,{id:`lesson-${Date.now()}`,title:"",description:"",content:"",duration:45,materials:[],assignments:[]}])},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center space-x-2",children:[l.jsx(n.Z,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Lesson"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-6 max-h-96 overflow-y-auto mb-6",children:[J.map((e,t)=>(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h4",{className:"text-lg font-medium text-gray-900",children:["Lesson ",t+1]}),l.jsx("button",{onClick:()=>em(t),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove Lesson"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Title"}),l.jsx("input",{type:"text",value:e.title,onChange:e=>ec(t,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter lesson title"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),l.jsx("input",{type:"number",min:"1",value:e.duration,onChange:e=>ec(t,"duration",parseInt(e.target.value)||45),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{rows:2,value:e.description,onChange:e=>ec(t,"description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter lesson description"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),l.jsx("textarea",{rows:4,value:e.content,onChange:e=>ec(t,"content",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter lesson content and learning objectives"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h5",{className:"text-md font-medium text-gray-900",children:"Materials"}),l.jsx("button",{onClick:()=>eu(t),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"+ Add Material"})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[e.materials.map((e,s)=>(0,l.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[l.jsx("input",{type:"text",value:e.name,onChange:e=>ex(t,s,"name",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Material name"}),(0,l.jsxs)("select",{value:e.type,onChange:e=>ex(t,s,"type",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[l.jsx("option",{value:"pdf",children:"PDF"}),l.jsx("option",{value:"video",children:"Video"}),l.jsx("option",{value:"document",children:"Document"}),l.jsx("option",{value:"link",children:"Link"})]}),l.jsx("button",{onClick:()=>eg(t,s),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"})]}),"link"===e.type?l.jsx("input",{type:"url",value:e.url,onChange:e=>ex(t,s,"url",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter URL (e.g., https://example.com)"}):(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsxs)("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50 transition-colors",children:[l.jsx("span",{className:"text-sm text-gray-600 mr-2",children:ev(e.type)}),l.jsx("span",{className:"text-sm text-gray-600",children:e.fileName?"Change File":"Upload File"}),l.jsx("input",{type:"file",accept:ej(e.type),onChange:e=>{let l=e.target.files?.[0];l&&ef(t,s,l)},className:"hidden"})]}),e.fileName&&(0,l.jsxs)("div",{className:"flex-1 text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:e.fileName}),e.size&&(0,l.jsxs)("span",{className:"text-gray-400 ml-2",children:["(",e.size,")"]})]})]}),e.fileName&&l.jsx("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:"✓ File uploaded successfully"})]})]},s)),0===e.materials.length&&l.jsx("p",{className:"text-gray-500 text-sm italic",children:"No materials added yet"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h5",{className:"text-md font-medium text-gray-900",children:"Assignments"}),l.jsx("button",{onClick:()=>eh(t),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"+ Add Assignment"})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[e.assignments.map((e,s)=>(0,l.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[l.jsx("input",{type:"text",value:e.title,onChange:e=>ep(t,s,"title",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Assignment title"}),l.jsx("input",{type:"date",value:e.dueDate,onChange:e=>ep(t,s,"dueDate",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),(0,l.jsxs)("select",{value:e.status||"draft",onChange:e=>ep(t,s,"status",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"published",children:"Published"})]})]}),l.jsx("textarea",{rows:2,value:e.description,onChange:e=>ep(t,s,"description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm mb-3",placeholder:"Assignment description"}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${"published"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:"published"===e.status?"Published":"Draft"}),l.jsx("button",{onClick:()=>eb(t,s),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove Assignment"})]})]},s)),0===e.assignments.length&&l.jsx("p",{className:"text-gray-500 text-sm italic",children:"No assignments added yet"})]})]})]},t)),0===J.length&&(0,l.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[l.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDA"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No lessons yet"}),l.jsx("p",{className:"text-gray-500",children:'Click "Add Lesson" to create your first lesson.'})]})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4 border-t",children:[l.jsx("button",{onClick:()=>{if(z)try{localStorage.setItem(`course-${z.id}-lessons`,JSON.stringify(J));let s=J.reduce((e,t)=>e+t.assignments.length,0),l={...z,totalLessons:J.length,pendingSubmissions:s,updatedAt:new Date().toISOString()},a=e.map(e=>e.id===z.id?l:e);t(a);let r=a.filter(e=>!["1"].includes(e.id));localStorage.setItem("demo-courses",JSON.stringify(r)),T(!1),U(null),G([]),alert("Course content updated successfully!")}catch(e){console.error("Error saving course content:",e),alert("Failed to save course content. Please try again.")}},className:"btn-primary flex-1",children:"Save Content Changes"}),l.jsx("button",{onClick:()=>{T(!1),U(null),G([])},className:"btn-secondary flex-1",children:"Cancel"})]})]})})]})}},83315:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});let l=(0,s(62616).createProxy)(String.raw`C:\CapstoneProject\Capstone_Project-main\src\app\(dashboard)\staff\courses\page.tsx#default`)},50632:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var l=s(20017),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var n=(e,t)=>{let s=(0,l.forwardRef)(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:d,...c},m)=>(0,l.createElement)("svg",{ref:m,...a,width:n,height:n,stroke:s,strokeWidth:o?24*Number(i)/Number(n):i,className:`lucide lucide-${r(e)}`,...c},[...t.map(([e,t])=>(0,l.createElement)(e,t)),...(Array.isArray(d)?d:[d])||[]]));return s.displayName=`${e}`,s}},81659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l=(0,s(50632).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),l=t.X(0,[3469,6996,4780,187],()=>s(95472));module.exports=l})();